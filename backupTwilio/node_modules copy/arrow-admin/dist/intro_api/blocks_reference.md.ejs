<h1 id="heading-blocks-reference"><a name="heading-blocks-reference">Blocks Reference</a></h1><p>This section covers a basic Block definition (in Javascript) and the properties supported by a Block.</p>
<h2 id="heading-block-definition"><a name="heading-block-definition">Block Definition</a></h2><p>The sample code below demonstrates how to create a Block in Javascript.  Blocks should be placed in the <code>blocks</code> directory of your project.</p>
<pre class="highlight javascript"><span class="hljs-keyword">var</span> Arrow = <span class="hljs-built_in">require</span>(<span class="hljs-string">'arrow'</span>);

<span class="hljs-keyword">var</span> PreBlock = Arrow.Block.extend({
    <span class="hljs-attr">name</span>: <span class="hljs-string">'pre_example'</span>,
    <span class="hljs-attr">description</span>: <span class="hljs-string">'will set a header named "Foo"'</span>,

    <span class="hljs-attr">execute</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">req, resp, next</span>) </span>{
        req.params.id = <span class="hljs-number">2</span>;
        req.log.info(<span class="hljs-string">"Changing params.id to 2"</span>);
        next();
    }
});

<span class="hljs-built_in">module</span>.exports = PreBlock;</pre><p>All of your runnable code goes in the <code>execute</code> function.  This function is passed a <code>request</code>, <code>response</code>, and <code>next</code> object to be used within your block.  Once youâ€™re done with your block code, always call <code>next()</code> to continue on to the next step in the request flow.</p>
<h2 id="heading-block-properties"><a name="heading-block-properties">Block Properties</a></h2><p>The table below outlines the properties supported by a Block.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>true</td>
<td>Block name.  This name should be used when specifying blocks in your API endpoint definition.</td>
</tr>
<tr>
<td>description</td>
<td>true</td>
<td>Human useful description to display in docs.</td>
</tr>
<tr>
<td>documented</td>
<td>false</td>
<td>Used to determine whether to generate API documentation.  The default value is <code>true</code>.</td>
</tr>
<tr>
<td>execute</td>
<td>true</td>
<td>Function containing the logic for your block.</td>
</tr>
</tbody>
</table>
