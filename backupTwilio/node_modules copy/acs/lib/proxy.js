'use strict';

//var Proxy = require('node-proxy');

// This is just enough to get it to run in both NodeJS and FF
function makeHandler(obj) {
    return Proxy.create(
        {
            get: function(receiver, name) {
                return obj[name];
            },

            set: function(receiver, name, val) {
                obj[name] = val;
                return true;
            },

            enumerate: function() {
                console.log('enumerate called');
                return Object.keys(obj);
            }
        });
}

module.exports = makeHandler;

