<h1 id="id">this will be unwrapped</h1>

<style>
.content pre, .content blockquote {
    width:90%;
    margin-left:25px;
    margin-right:25px;
    clear:both;
    float:none;
}
</style>

<h1 id="heading-introduction"><a name="heading-introduction">Introduction</a></h1><p><code>foo</code> <em>bar</em></p>
<p>This API project is organized around <a href="http://en.wikipedia.org/wiki/Representational_State_Transfer">REST</a>. This API is designed to have predictable, resource-oriented URLs and to use HTTP response codes to indicate API errors. We use built-in HTTP features, like HTTP authentication and HTTP verbs, which can be understood by off-the-shelf HTTP clients, and we support cross-origin resource sharing to allow you to interact securely with your API from a client-side application (though you should remember that you should never expose your secret API key in any public website’s client code).</p>
<h1 id="heading-getting-started"><a name="heading-getting-started">Getting started</a></h1><p>First, let’s explore the directory structure.  The following are the directories that are provided in the default project:</p>
<ul>
<li><code>apis</code>: your API files</li>
<li><code>blocks</code>: your Block files</li>
<li><code>conf</code>: your configuration files</li>
<li><code>docs</code>: your API documentation header files</li>
<li><code>logs</code>: where the server logs will be stored</li>
<li><code>models</code>: your Model files</li>
</ul>
<p>In the root directory, you have the following important files:</p>
<ul>
<li><code>app.js</code>: the server bootstrap</li>
<li><code>index.js</code>: provides loading this project as a node module</li>
</ul>
<p>Both of these files generally should not be modified.</p>
<h1 id="heading-api-definitions"><a name="heading-api-definitions">API definitions</a></h1><p>APIs are configured in the <code>apis</code> directory.  Each file in this directory should be one API endpoint (however, files starting with <code>_</code> will be ignored).  The name of the file is unimportant so name the file something that will make sense to you.</p>
<h2 id="heading-api-example"><a name="heading-api-example">API Example</a></h2><p>The following is an example of an API.</p>
<p>The API first must import the <code>apibuilder</code> module using the standard node require.</p>
<p>Next, the API uses the <code>APIBuilder.API.extend</code> function to create an API endpoint definition.  This defines the rules for your API.</p>
<pre class="highlight javascript"><span class="hljs-keyword">var</span> APIBuilder = <span class="hljs-built_in">require</span>(<span class="hljs-string">'apibuilder'</span>);

<span class="hljs-keyword">var</span> TestAPI = APIBuilder.API.extend({
    name: <span class="hljs-string">'test'</span>,
    path: <span class="hljs-string">'/test/:id'</span>,
    method: <span class="hljs-string">'GET'</span>,
    description: <span class="hljs-string">'this is an api that shows how to implement an API'</span>,
    model: <span class="hljs-string">'user'</span>,
    before: <span class="hljs-string">'pre_example'</span>,
    after: <span class="hljs-string">'post_example'</span>,
    parameters: {
        id: {description:<span class="hljs-string">'the user id'</span>}
    },
    action: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">req, resp, next</span>) </span>{
        <span class="hljs-comment">// invoke the model find method passing the id parameter</span>
        <span class="hljs-comment">// stream the result back as response</span>
        resp.stream(req.model.find, req.params.id, next);
    }
});

<span class="hljs-built_in">module</span>.exports = TestAPI;</pre><aside class="warning">This is a warning.</aside><pre class="highlight html"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>HTML!<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></pre><pre class="highlight xml"><span class="hljs-tag">&lt;<span class="hljs-name">foo</span>&gt;</span>bar<span class="hljs-tag">&lt;/<span class="hljs-name">foo</span>&gt;</span></pre><pre class="highlight bash">ls</pre><pre class="highlight css"><span class="hljs-selector-tag">body</span> { <span class="hljs-attribute">color</span>: <span class="hljs-number">#0f0</span>; }</pre><pre class="highlight css"><span class="hljs-selector-tag">body</span> { <span class="hljs-attribute">color</span>: <span class="hljs-number">#0f0</span>; }</pre><pre class="highlight badBadBad">alert<span class="hljs-comment">("this will be auto-highlighted")</span>;</pre><h1 id="id">this will be unwrapped</h1>

<p>The following properties are supported:</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>true</td>
<td>API name</td>
</tr>
<tr>
<td>path</td>
<td>true</td>
<td>Request URI path</td>
</tr>
<tr>
<td>method</td>
<td>true</td>
<td>HTTP verb such as GET, POST, etc.</td>
</tr>
<tr>
<td>description</td>
<td>true</td>
<td>Human useful description to display in docs, etc.</td>
</tr>
<tr>
<td>model</td>
<td>true</td>
<td>The model to use for the response</td>
</tr>
<tr>
<td>before</td>
<td>false</td>
<td>Either an array or string of the filter to run before the API request is processed</td>
</tr>
</tbody>
</table>
