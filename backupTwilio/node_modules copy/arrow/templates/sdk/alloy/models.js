{{#models}}
/** filename: app/models/{{&safeName}}.js **/
var SDK = require('{{&sdkname}}');

exports.definition = {
	config: {
		columns: {
			{{#fields}}
			'{{&name}}': '{{type}}'{{^fieldIsLast}},{{/fieldIsLast}}
			{{/fields}}
		},
		URL: SDK.getURL('{{&baseURL}}'),
		adapter: {
			type: 'restapi',
			collection_name: '{{&model.plural}}',
			idAttribute: 'id'
		},
		headers: SDK.getDefaultHeaders,
		parentNode: SDK.parseParentNode
	},
	extendModel: function (Model) {
		_.extend(Model.prototype, {
			{{#endpoints}}
			'{{&describes}}': _{{&describes}}{{^endpointIsLast}},{{/endpointIsLast}}
			{{/endpoints}}
		});
		return Model;
	},
	extendCollection: function (Collection) {
		_.extend(Collection.prototype, {
			{{#endpoints}}
			'{{&describes}}': _{{&describes}}{{^endpointIsLast}},{{/endpointIsLast}}
			{{/endpoints}}
		});
		return Collection;
	}
};

{{#endpoints}}
{{> endpoint.js}}
{{/endpoints}}

{{/models}}